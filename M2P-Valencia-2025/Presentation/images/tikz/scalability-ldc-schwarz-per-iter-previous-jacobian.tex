\begin{tikzpicture}
	\pgfplotsset{
		every axis/.append style={
      ybar stacked,
      width=13cm,
      height=7cm,
      ylabel={Avg. runtime per iter. (seconds)},
      xlabel={Num. subdomains},
      symbolic x coords={256, 576, 1024, 2025, 4096, 9216},
      xtick=data,
      enlarge x limits=0.15,
      legend style={at={(0,1)},anchor=north west},
      axis lines*=left, ymajorgrids,
      ymin=0,
      ymax=60,
      bar width=8pt,
      nodes near coords,
      nodes near coords style={rotate=90},
      minor y tick num=1,
      xticklabel style={rotate=0,xshift=0ex,anchor=north},
      cycle list name=Set2-5,
    },
		% Ensures that bars are plotted full
		every axis plot/.append style={
      fill,
			% fill opacity=0.5,
      every node/.append style={
        text=black,
      },
    },
	}
% Re = 1000
	\begin{axis}[bar shift=-11pt, hide axis]
    \addplot+ coordinates {(256,5.5) (576,5.8) (1024,6.3) (2025,6.3) (4096,6.3)   (9216,6)};   
    \addplot+ coordinates {(256,4.5) (576,5.2) (1024,6.5) (2025,7.3) (4096,7.8)   (9216,11.2)}; 
    \addplot+ coordinates {(256,11.8) (576,11.2) (1024,8.8) (2025,8.3) (4096,7.4) (9216,16.6)};   
    \addplot+ coordinates {(256,8.6) (576,9.5) (1024,10.0) (2025,10.5) (4096,11.1) (9216,11)}; 
	\end{axis}

% Re = 2000
	\begin{axis}[bar shift=0pt, hide axis]
    \addplot+ coordinates {(256,6.3) (576,6.7) (1024,6.4) (2025,6.5) (4096,6.5)   (9216,6.4)};  
    \addplot+ coordinates {(256,4.6) (576,5.3) (1024,6.0) (2025,7.3) (4096,8.3)   (9216,14.4)};  
    \addplot+ coordinates {(256,14.9) (576,15.8) (1024,7.8) (2025,11.3) (4096,9.0) (9216,17.2)}; 
    \addplot+ coordinates {(256,8.4) (576,9.3) (1024,15.4) (2025,10.0) (4096,10.8)(9216,11.2)};  
	\end{axis}

% Re = 4000
	\begin{axis}[bar shift=11pt]
    \addplot+ coordinates {(256,6.8) (576,6.6) (1024,6.6) (2025,7.0) (4096,6.8)      (9216,6.7)}; 
    \addplot+ coordinates {(256,4.7) (576,5.2) (1024,6.1) (2025,7.3) (4096,8.6)      (9216,15)};   
    \addplot+ coordinates {(256,18.6) (576,20.2) (1024,18.8) (2025,16.8) (4096,14.4) (9216,25)};  
    \addplot+ coordinates {(256,8.3) (576,8.8) (1024,9.3) (2025,9.8) (4096,10.4)     (9216,11.2)}; 

		\legend{
			Inner solve,
			Coarse solve,
			GMRES,
			Other
		}
  \end{axis}
\end{tikzpicture}
