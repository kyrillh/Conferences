\begin{tikzpicture}
	\pgfplotsset{
		every axis/.append style={
				ybar stacked,
				width=13cm,
				height=7cm,
				ylabel={Avg. runtime per iter. (seconds)},
				xlabel={Num. subdomains},
				symbolic x coords={256, 576, 1024, 2025, 4096, 9216},
				xtick=data,
				enlarge x limits=0.15,
				legend style={at={(0,1)},anchor=north west},
				axis lines*=left, ymajorgrids,
				ymin=0,
				ymax=55,
				bar width=8pt,
				nodes near coords,
				nodes near coords style={rotate=90},
				minor y tick num=1,
				xticklabel style={rotate=0,xshift=0ex,anchor=north},
				cycle list name=Set2-5,
			},
		% Ensures that bars are plotted full
		every axis plot/.append style={
				fill,
				% fill opacity=0.5,
				every node/.append style={
						text=black,
					},
			},
	}
	% Re = 1000

	\begin{axis}[bar shift=-11pt, hide axis]
		\addplot+ coordinates {(256,5.9  ) (576, 5.7	 ) (1024,   6.1) (2025,  6.7 ) (4096, 6) (9216,5.8 )};
		\addplot+ coordinates {(256,4.6 ) (576, 5 )  (1024,  6.6 ) (2025,  7.3 ) (4096, 8.6 )    (9216,13.1)};
		\addplot+ coordinates {(256,10.6 ) (576, 10.1)  (1024,  8.3 ) (2025,  7.6 ) (4096, 6.9 ) (9216,15  )};
		\addplot+ coordinates {(256,5.9 ) (576, 6.5	 ) (1024,   7.6) (2025,  8) (4096, 8   )     (9216,8.1 )};
	\end{axis}

	% Re = 2000
	\begin{axis}[bar shift=0pt, hide axis]

		\node[rotate=0] at (axis cs:256,2) {\scriptsize\color{red}\ding{55}};
		\addplot+ coordinates {(256, 0) (576,6.4 ) (1024, 6.3	) (2025,  6.5   )  (4096,  6.2   ) (9216,6   )};
		\addplot+ coordinates {(256, 0) (576,5.3 ) (1024, 5.9  ) (2025,  7.2  ) (4096,  7.9 )      (9216,15.4)};
		\addplot+ coordinates {(256, 0) (576,13.3) (1024, 11.5  ) (2025,  10.2 ) (4096,  9 )       (9216,17  )};
		\addplot+ coordinates {(256, 0) (576,6.1 ) (1024, 6.7	) (2025,  7.2	 )  (4096,  7.3  ) (9216,8.35)};
	\end{axis}

	% Re = 4000
	\begin{axis}[bar shift=11pt]

		\node[xshift=11pt,rotate=0] at (axis cs:256,2) {\scriptsize\color{red}\ding{55}};
		\node[xshift=11pt,rotate=0] at (axis cs:576,2) {\scriptsize\color{red}\ding{55}};
		\node[xshift=11pt,rotate=0] at (axis cs:1024,2) {\scriptsize\color{red}\ding{55}};

		\addplot+ coordinates {(256,0) (576,0) (1024,0)  (2025,  6.8) (4096, 6.7  )   (9216,6.1 )};
		\addplot+ coordinates {(256,0) (576,0) (1024,0)  (2025,  7.8 ) (4096, 7.9)    (9216,15  )};
		\addplot+ coordinates {(256,0) (576,0) (1024,0)  (2025,  14.5) (4096, 12.5  ) (9216,24.5)};
		\addplot+ coordinates {(256,0) (576,0) (1024,0)  (2025,  6.9) (4096, 7.4)     (9216,8.15)};

		\legend{
			Inner solve,
			Coarse solve,
			GMRES,
			Other
		}
	\end{axis}
\end{tikzpicture}
